(self.webpackChunkpyrsia=self.webpackChunkpyrsia||[]).push([[6697],{22286:function(t,e,n){"use strict";n.r(e),n.d(e,{assets:function(){return d},contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return p}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),s=(n(8209),["components"]),l={custom_edit_url:"https://github.com/pyrsia/pyrsia/blob/main/docs/developers/testing_in_pyrsia.md",sidebar_position:13},o="Testing in Pyrsia",u={unversionedId:"developers/testing_in_pyrsia",id:"developers/testing_in_pyrsia",title:"Testing in Pyrsia",description:"Overview",source:"@site/docs/developers/testing_in_pyrsia.md",sourceDirName:"developers",slug:"/developers/testing_in_pyrsia",permalink:"/docs/developers/testing_in_pyrsia",draft:!1,editUrl:"https://github.com/pyrsia/pyrsia/blob/main/docs/developers/testing_in_pyrsia.md",tags:[],version:"current",sidebarPosition:13,frontMatter:{custom_edit_url:"https://github.com/pyrsia/pyrsia/blob/main/docs/developers/testing_in_pyrsia.md",sidebar_position:13},sidebar:"tutorialSidebar",previous:{title:"How to start and debug Pyrsia Node using IDE",permalink:"/docs/developers/setting_up_ide"},next:{title:"Pre-release checks",permalink:"/docs/developers/prerelease_manual_tests"}},d={},p=[{value:"Overview",id:"overview",level:2},{value:"Tests details and how / who to run them",id:"tests-details-and-how--who-to-run-them",level:2},{value:"Unit tests in the Pyrsia repository",id:"unit-tests-in-the-pyrsia-repository",level:3},{value:"Tests on Staging and Production",id:"tests-on-staging-and-production",level:3},{value:"Integration tests",id:"integration-tests",level:3},{value:"Manual tests",id:"manual-tests",level:3}],m={toc:p};function c(t){var e=t.components,n=(0,r.Z)(t,s);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"testing-in-pyrsia"},"Testing in Pyrsia"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"Depending on the purpose, Pyrsia uses several methods and tools for testing as follows."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Goal (What to verify)")),(0,i.kt)("th",{parentName:"tr",align:null},"Unit tests"),(0,i.kt)("th",{parentName:"tr",align:null},"Tests on Staging"),(0,i.kt)("th",{parentName:"tr",align:null},"Tests on Production"),(0,i.kt)("th",{parentName:"tr",align:null},"Integration tests"),(0,i.kt)("th",{parentName:"tr",align:null},"Manual tests"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Features (Comprehensive check)"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Features Backward Compatibility"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Data Backward Compatibility"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Cross-platform"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Operations on Cloud Environment"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"-")))),(0,i.kt)("h2",{id:"tests-details-and-how--who-to-run-them"},"Tests details and how / who to run them"),(0,i.kt)("p",null,"All contributors are required to keep 'unit tests' and 'integration tests' green when making some changes to code base."),(0,i.kt)("p",null,"Other methods introduced below are mainly operated by the Pyrsia team\n(You can reach out in ",(0,i.kt)("a",{parentName:"p",href:"https://cdeliveryfdn.slack.com/join/shared_invite/zt-1eryue9cw-9YpgrfIfsTcDS~hGHchURg"},"#pyrsia-team of CDF Slack"),")\nfor now."),(0,i.kt)("h3",{id:"unit-tests-in-the-pyrsia-repository"},"Unit tests in the Pyrsia repository"),(0,i.kt)("p",null,"Unit tests check if a small piece of source code works individually."),(0,i.kt)("p",null,"They are written in Rust files of the Pyrsia repository,\nand executed on GitHub Actions whenever the production code is modified."),(0,i.kt)("h3",{id:"tests-on-staging-and-production"},"Tests on Staging and Production"),(0,i.kt)("p",null,"We have two environments, where authorized nodes run: Production and Staging. They are Kubernetes clusters on AWS and GCP."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Production - A public environment on which the latest stable version runs for everyone who wants to use Pyrsia."),(0,i.kt)("li",{parentName:"ul"},"Staging - It is for testing new features.")),(0,i.kt)("p",null,"On both environments, a test is executed before and after releases to check functions.\nIt builds some official libraries and sees inspect-logs of them as simple operation verifications."),(0,i.kt)("p",null,"Another important part of it is verifying that backward compatibility is kept,\nso data like blockchain records and transparency logs should not be purged after each test\nas long as the current version is compatible with the previous ones."),(0,i.kt)("h3",{id:"integration-tests"},"Integration tests"),(0,i.kt)("p",null,"Integration tests verify all basic features are\nnot broken - ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/pyrsia/pyrsia-integration-tests"},"The repository pyrsia/pyrsia-integration-tests"),".\nUnlike unit tests, they test combined modules by actually running Pyrsia nodes and CLI."),(0,i.kt)("p",null,"Currently, these tests run twice a day regularly using GitHub Actions."),(0,i.kt)("h3",{id:"manual-tests"},"Manual tests"),(0,i.kt)("p",null,"Manual tests should be done every time a new release is published to find unexpected behavior in all supported platforms."),(0,i.kt)("p",null,"For more details, refer to ",(0,i.kt)("a",{parentName:"p",href:"/docs/developers/postrelease_manual_tests"},"Post-release manual tests"),"."))}c.isMDXComponent=!0},11748:function(t,e,n){var a={"./locale":89234,"./locale.js":89234};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id=11748}}]);